!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="./",o(o.s=5)}({0:function(t,e){t.exports=require("jquery")},5:function(t,e,o){!function(){const t=o(0),e="https://api.eshengeshu.com/ajaxMock",n="https://api.eshengeshu.com/ajaxRemoveHistory",s="https://api.eshengeshu.com/ajaxGetHistory";class a{static open(e,o){let n=t("#J_singleton_toast"),s="string"==typeof o?o:"";0==n.length?n=t(`<div id="J_singleton_toast" class="text-toast ${s}"></div>`).appendTo("body"):n[0].className=`text-toast ${s}`,n.html(e).removeClass("text-toast-on").css({marginLeft:0}),setTimeout(function(){n.css({marginLeft:Math.round((t(window).width()-(n.outerWidth?n.outerWidth():n.width()))/2)+"px"}).addClass("text-toast-on")},0)}}const i=CodeMirror.fromTextArea(document.getElementById("J_json_editor"),{lineNumbers:!0,mode:"application/json",matchBrackets:!0,smartIndent:!0,indentUnit:4,tabSize:4,theme:"eclipse",gutters:["CodeMirror-lint-markers"],lint:!0});i.setValue('{\n    "status": 1,\n    "data": {\n\n    },\n    "info": "success"\n}'),i.setSize("100%",250),t.getJSON(s,function(e){if(1==e.status){var o="";e.data.history.forEach(function(t){o+=`\n                        <li class="request-item flex J_history_item" data-mockid='${t.mockId}' data-json='${t.jsonText}' data-protocol="${t.protocol}" data-des="${t.des}" data-invalid="${t.goingInvalid}">\n                            <p class="flex-1">${t.url}</p>\n                            <p class="flex-1">${t.des}</p>\n                            <p class="request-item-remove"><button class="J_edit">编辑</button><button class="J_remove">删除</button></p>\n                        </li>\n                    `}),t(".J_history").append(o)}}),t("#J_mock").on("click",function(){var o=i.getValue(),n=t(".J_protocol:checked").val(),s=t("#J_description").val(),r=t("#J_mock_id").val();if(""==o)return void a.open("请输入需要mock的json数据");if(CodeMirror.lint.json(o).length>0)return void a.open("输入json数据格式有误");if(""==n)return void a.open("请选择接口协议类型");if(""==s)return void a.open("请输入接口描述");t("#J_result").val(""),"",t.getJSON(e,{jsonText:o,protocol:n,des:s,mockId:r},function(e){1==e.status?(t("#J_result").val(e.data.mockUrl),t("#J_mock_id").val(e.data.mockId),a.open("Mock成功！")):a.open(e.info)})}),t(".J_copy").on("click",function(){if(""==t("#J_result").val())return void a.open("暂未获取到mock结果");document.getElementById("J_result").select();try{document.execCommand("copy"),a.open("复制成功！")}catch(t){a.open("按 Ctrl/Command + C 复制！")}}),t(document).on("click",".J_edit",function(){var e=t(this).parents(".J_history_item"),o=e.data("json"),n=e.data("mockid"),s=e.data("protocol"),a=e.data("des");t("#J_mock_id").val(n),i.setValue(JSON.parse(o)),t(`.J_protocol[value='${s}']`).prop("checked",!0),t("#J_description").val(a)}).on("click",".J_remove",function(){var e=t(this).parents(".J_history_item"),o=e.data("mockid");t.getJSON(n,{mockId:o},function(t){1==t.status?(a.open("删除成功！"),e.remove()):a.open(t.info)})})}()}});